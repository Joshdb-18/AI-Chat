/*! For license information please see 1744.chunk.js.LICENSE.txt */
(this.webpackChunkproject_bae=this.webpackChunkproject_bae||[]).push([[1744],{40459:function(t,e,n){function r(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var i=r(n(62991)),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};e.Z=function(t){var e,n=t.bgColor,r=void 0===n?"#6a1b9a":n,s=t.height,a=void 0===s?"20px":s,c=t.width,u=void 0===c?"100%":c,h=t.borderRadius,l=void 0===h?"50px":h,p=t.labelAlignment,d=void 0===p?"right":p,f=t.baseBgColor,y=void 0===f?"#e0e0de":f,g=t.labelColor,m=void 0===g?"#fff":g,b=t.labelSize,v=void 0===b?"15px":b,w=t.isLabelVisible,R=void 0===w||w,T=t.dir,_=void 0===T?"ltr":T,E=t.ariaValuemin,A=void 0===E?0:E,C=t.ariaValuemax,k=void 0===C?100:C,O=t.ariaValuetext,S=void 0===O?null:O,x=t.maxCompleted,P=void 0===x?100:x,B=t.animateOnRender,L=void 0!==B&&B,N=t.initCompletedOnAnimation,j=void 0===N?0:N,M=t.completed,D=t.margin,I=t.padding,U=t.customLabelStyles,q=t.transitionDuration,F=t.transitionTimingFunction,V=t.className,z=t.customLabel,H=t.barContainerClassName,W=t.completedClassName,Y=t.labelClassName,$="left"===(e=d)?"flex-start":"center"===e?"center":"right"===e?"flex-end":null,K="number"==typeof j?"".concat(j,"%"):j,J=function(t,e){if(t){var n=Number(e)/t;return n>1?"100%":"".concat(100*n,"%")}return K}(P,M),X=i.useState(K),Q=X[0],G=X[1],Z={height:a,background:y,borderRadius:l,padding:I,width:u,margin:D,overflow:"hidden"},tt={height:a,width:L?Q:J,background:r,transition:"width ".concat(q||"1s"," ").concat(F||"ease-in-out"),borderRadius:"inherit",display:"flex",alignItems:"center",justifyContent:"outside"!==d&&$?$:"normal"},et=o({padding:"outside"===d?"0 0 0 5px":"5px",color:m,fontWeight:"bold",fontSize:v,display:R?"initial":"none"},U),nt={display:"outside"===d?"flex":"initial",alignItems:"outside"===d?"center":"initial"},rt="number"==typeof M?"".concat(M,"%"):"".concat(M),it=z||rt;return i.useEffect((function(){L&&requestAnimationFrame((function(){return G(J)}))}),[J,L]),i.createElement("div",{style:V?void 0:nt,className:V,dir:_,role:"progressbar","aria-valuenow":parseFloat(it),"aria-valuemin":A,"aria-valuemax":k,"aria-valuetext":"".concat(null===S?it:S)},i.createElement("div",{style:H?void 0:Z,className:H},i.createElement("div",{style:W?void 0:tt,className:W},"outside"!==d&&i.createElement("span",{style:Y?void 0:et,className:Y},it))),"outside"===d&&i.createElement("span",{style:Y?void 0:et,className:Y},it))}},52671:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isNative=void 0;var n="undefined"!=typeof window&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition);e.isNative=function(t){return t===n};var r=n;e.default=r},23282:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(23257))&&r.__esModule?r:{default:r},o=n(46432),s=n(52671);function a(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,c,"next",t)}function c(t){a(o,r,i,s,c,"throw",t)}s(void 0)}))}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(e),(0,i.default)()&&(this.updateFinalTranscript=(0,o.debounce)(this.updateFinalTranscript,250,!0))}var e,n,r,a,h,l;return e=t,n=[{key:"setSpeechRecognition",value:function(t){var e=!!t&&((0,s.isNative)(t)||(0,o.browserSupportsPolyfills)());e&&(this.disableRecognition(),this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(e)}},{key:"subscribe",value:function(t,e){this.subscribers[t]=e}},{key:"unsubscribe",value:function(t){delete this.subscribers[t]}},{key:"emitListeningChange",value:function(t){var e=this;this.listening=t,Object.keys(this.subscribers).forEach((function(n){(0,e.subscribers[n].onListeningChange)(t)}))}},{key:"emitMicrophoneAvailabilityChange",value:function(t){var e=this;this.isMicrophoneAvailable=t,Object.keys(this.subscribers).forEach((function(n){(0,e.subscribers[n].onMicrophoneAvailabilityChange)(t)}))}},{key:"emitTranscriptChange",value:function(t,e){var n=this;Object.keys(this.subscribers).forEach((function(r){(0,n.subscribers[r].onTranscriptChange)(t,e)}))}},{key:"emitClearTranscript",value:function(){var t=this;Object.keys(this.subscribers).forEach((function(e){(0,t.subscribers[e].onClearTranscript)()}))}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(t){var e=this;Object.keys(this.subscribers).forEach((function(n){var r=e.subscribers[n],i=r.onBrowserSupportsSpeechRecognitionChange,o=r.onBrowserSupportsContinuousListeningChange;i(t),o(t)}))}},{key:"disconnect",value:function(t){if(this.recognition&&this.listening)switch(t){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(t){t&&t.error&&"not-allowed"===t.error&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(t){var e=t.results,n=t.resultIndex,r=void 0===n?e.length-1:n;this.interimTranscript="",this.finalTranscript="";for(var s=r;s<e.length;++s)e[s].isFinal&&(!(0,i.default)()||e[s][0].confidence>0)?this.updateFinalTranscript(e[s][0].transcript):this.interimTranscript=(0,o.concatTranscripts)(this.interimTranscript,e[s][0].transcript);var a=!1;""===this.interimTranscript&&""!==this.finalTranscript?(this.previousResultWasFinalOnly&&(a=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,a||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(t){this.finalTranscript=(0,o.concatTranscripts)(this.finalTranscript,t)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:(l=c(regeneratorRuntime.mark((function t(){var e,n,r,i,o,s,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e=a.length>0&&void 0!==a[0]?a[0]:{}).continuous,r=void 0!==n&&n,i=e.language,this.recognition){t.next=3;break}return t.abrupt("return");case 3:if(o=r!==this.recognition.continuous,s=i&&i!==this.recognition.lang,!o&&!s){t.next=11;break}if(!this.listening){t.next=9;break}return t.next=9,this.stopListening();case 9:this.recognition.continuous=o?r:this.recognition.continuous,this.recognition.lang=s?i:this.recognition.lang;case 11:if(this.listening){t.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),t.prev=13,t.next=16,this.start();case 16:this.emitListeningChange(!0),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(13),t.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return t.stop()}}),t,this,[[13,19]])}))),function(){return l.apply(this,arguments)})},{key:"abortListening",value:(h=c(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),t.next=4,new Promise((function(t){e.onStopListening=t}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"stopListening",value:(a=c(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),t.next=4,new Promise((function(t){e.onStopListening=t}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:(r=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.recognition||this.listening){t.next=4;break}return t.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}],n&&u(e.prototype,n),t}();e.default=h},67197:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.useSpeechRecognition=void 0;var r=n(62991),i=n(46432),o=n(5130),s=n(24340),a=h(n(23282)),c=h(n(23257)),u=h(n(52671));function h(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){l(o,r,i,s,a,"next",t)}function a(t){l(o,r,i,s,a,"throw",t)}s(void 0)}))}}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m,b=!!u.default,v=b&&!(0,c.default)();e.useSpeechRecognition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.transcribing,n=void 0===e||e,a=t.clearTranscriptOnListen,c=void 0===a||a,u=t.commands,h=void 0===u?[]:u,l=f((0,r.useState)(_.getRecognitionManager()),1)[0],p=f((0,r.useState)(b),2),m=p[0],w=p[1],R=f((0,r.useState)(v),2),T=R[0],E=R[1],A=f((0,r.useReducer)(s.transcriptReducer,{interimTranscript:l.interimTranscript,finalTranscript:""}),2),C=A[0],k=C.interimTranscript,O=C.finalTranscript,S=A[1],x=f((0,r.useState)(l.listening),2),P=x[0],B=x[1],L=f((0,r.useState)(l.isMicrophoneAvailable),2),N=L[0],j=L[1],M=(0,r.useRef)(h);M.current=h;var D=function(){S((0,o.clearTranscript)())},I=(0,r.useCallback)((function(){l.resetTranscript(),D()}),[l]),U=(0,r.useCallback)((function(t,e){M.current.forEach((function(n){var r=n.command,o=n.callback,s=n.matchInterim,a=void 0!==s&&s,c=n.isFuzzyMatch,u=void 0!==c&&c,h=n.fuzzyMatchingThreshold,l=void 0===h?.8:h,p=n.bestMatchOnly,f=void 0!==p&&p,m=!e&&a?t.trim():e.trim(),b=(Array.isArray(r)?r:[r]).map((function(t){return u?function(t,e,n){var r=("object"===d(t)?t.toString():t).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),o=(0,i.compareTwoStringsUsingDiceCoefficient)(r,e);return o>=n?{command:t,commandWithoutSpecials:r,howSimilar:o,isFuzzyMatch:!0}:null}(t,m,l):function(t,e){var n=(0,i.commandToRegExp)(t).exec(e);return n?{command:t,parameters:n.slice(1)}:null}(t,m)})).filter((function(t){return t}));if(u&&f&&b.length>=2){b.sort((function(t,e){return e.howSimilar-t.howSimilar}));var v=b[0],w=v.command,R=v.commandWithoutSpecials,T=v.howSimilar;o(R,m,T,{command:w,resetTranscript:I})}else b.forEach((function(t){if(t.isFuzzyMatch){var e=t.command,n=t.commandWithoutSpecials,r=t.howSimilar;o(n,m,r,{command:e,resetTranscript:I})}else{var i=t.command,s=t.parameters;o.apply(void 0,(a=s,function(t){if(Array.isArray(t))return g(t)}(a)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(a)||y(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{command:i,resetTranscript:I}]))}var a}))}))}),[I]),q=(0,r.useCallback)((function(t,e){n&&S((0,o.appendTranscript)(t,e)),U(t,e)}),[U,n]),F=(0,r.useCallback)((function(){c&&D()}),[c]);return(0,r.useEffect)((function(){var t=_.counter;_.counter+=1;var e={onListeningChange:B,onMicrophoneAvailabilityChange:j,onTranscriptChange:q,onClearTranscript:F,onBrowserSupportsSpeechRecognitionChange:w,onBrowserSupportsContinuousListeningChange:E};return l.subscribe(t,e),function(){l.unsubscribe(t)}}),[n,c,l,q,F]),{transcript:(0,i.concatTranscripts)(O,k),interimTranscript:k,finalTranscript:O,listening:P,isMicrophoneAvailable:N,resetTranscript:I,browserSupportsSpeechRecognition:m,browserSupportsContinuousListening:T}};var w,R,T,_={counter:0,applyPolyfill:function(t){m?m.setSpeechRecognition(t):m=new a.default(t);var e=!!t&&(0,i.browserSupportsPolyfills)();b=e,v=e},removePolyfill:function(){m?m.setSpeechRecognition(u.default):m=new a.default(u.default),b=!!u.default,v=b&&!(0,c.default)()},getRecognitionManager:function(){return m||(m=new a.default(u.default)),m},getRecognition:function(){return _.getRecognitionManager().getRecognition()},startListening:(T=p(regeneratorRuntime.mark((function t(){var e,n,r,i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e=o.length>0&&void 0!==o[0]?o[0]:{}).continuous,r=e.language,i=_.getRecognitionManager(),t.next=4,i.startListening({continuous:n,language:r});case 4:case"end":return t.stop()}}),t)}))),function(){return T.apply(this,arguments)}),stopListening:(R=p(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_.getRecognitionManager(),t.next=3,e.stopListening();case 3:case"end":return t.stop()}}),t)}))),function(){return R.apply(this,arguments)}),abortListening:(w=p(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_.getRecognitionManager(),t.next=3,e.abortListening();case 3:case"end":return t.stop()}}),t)}))),function(){return w.apply(this,arguments)}),browserSupportsSpeechRecognition:function(){return b},browserSupportsContinuousListening:function(){return v}},E=_;e.default=E},5130:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.appendTranscript=e.clearTranscript=void 0;var r=n(25021);e.clearTranscript=function(){return{type:r.CLEAR_TRANSCRIPT}},e.appendTranscript=function(t,e){return{type:r.APPEND_TRANSCRIPT,payload:{interimTranscript:t,finalTranscript:e}}}},25021:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.APPEND_TRANSCRIPT=e.CLEAR_TRANSCRIPT=void 0,e.CLEAR_TRANSCRIPT="CLEAR_TRANSCRIPT",e.APPEND_TRANSCRIPT="APPEND_TRANSCRIPT"},39146:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"x6",{enumerable:!0,get:function(){return i.useSpeechRecognition}}),e.ZP=void 0;var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}(n(67197));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}var s=i.default;e.ZP=s},23257:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(){return/(android)/i.test("undefined"!=typeof navigator?navigator.userAgent:"")}},24340:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transcriptReducer=void 0;var r=n(25021),i=n(46432);e.transcriptReducer=function(t,e){switch(e.type){case r.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case r.APPEND_TRANSCRIPT:return{interimTranscript:e.payload.interimTranscript,finalTranscript:(0,i.concatTranscripts)(t.finalTranscript,e.payload.finalTranscript)};default:throw new Error}}},46432:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.browserSupportsPolyfills=e.compareTwoStringsUsingDiceCoefficient=e.commandToRegExp=e.concatTranscripts=e.debounce=void 0,e.debounce=function(t,e,n){var r;return function(){var i=this,o=arguments,s=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),s&&t.apply(i,o)}},e.concatTranscripts=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map((function(t){return t.trim()})).join(" ").trim()};var n=/\s*\((.*?)\)\s*/g,r=/(\(\?:[^)]+\))\?/g,i=/(\(\?)?:\w+/g,o=/\*/g,s=/[-{}[\]+?.,\\^$|#]/g;e.commandToRegExp=function(t){return t instanceof RegExp?new RegExp(t.source,"i"):(t=t.replace(s,"\\$&").replace(n,"(?:$1)?").replace(i,(function(t,e){return e?t:"([^\\s]+)"})).replace(o,"(.*?)").replace(r,"\\s*$1?\\s*"),new RegExp("^"+t+"$","i"))},e.compareTwoStringsUsingDiceCoefficient=function(t,e){if(t=t.replace(/\s+/g,"").toLowerCase(),e=e.replace(/\s+/g,"").toLowerCase(),!t.length&&!e.length)return 1;if(!t.length||!e.length)return 0;if(t===e)return 1;if(1===t.length&&1===e.length)return 0;if(t.length<2||e.length<2)return 0;for(var n=new Map,r=0;r<t.length-1;r++){var i=t.substring(r,r+2),o=n.has(i)?n.get(i)+1:1;n.set(i,o)}for(var s=0,a=0;a<e.length-1;a++){var c=e.substring(a,a+2),u=n.has(c)?n.get(c):0;u>0&&(n.set(c,u-1),s++)}return 2*s/(t.length+e.length-2)},e.browserSupportsPolyfills=function(){return"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.mediaDevices&&void 0!==window.navigator.mediaDevices.getUserMedia&&(void 0!==window.AudioContext||void 0!==window.webkitAudioContext)}},28385:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowContainer=void 0;var i=n(315),o=n(62991),s=n(10808);e.ArrowContainer=function(t){var e=t.childRect,n=t.popoverRect,a=t.position,c=t.arrowColor,u=t.arrowSize,h=t.arrowClassName,l=t.arrowStyle,p=t.className,d=t.children,f=t.style,y=(0,s.useArrowContainer)({childRect:e,popoverRect:n,position:a,arrowColor:c,arrowSize:u}),g=y.arrowContainerStyle,m=y.arrowStyle,b=(0,o.useMemo)((function(){return r(r({},g),f)}),[g,f]),v=(0,o.useMemo)((function(){return r(r({},m),l)}),[m,l]);return(0,i.jsxs)("div",{className:p,style:b,children:[(0,i.jsx)("div",{style:v,className:h}),d]})}},51090:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Popover=e.usePopover=e.ArrowContainer=e.useArrowContainer=void 0;var i=n(315),o=n(62991),s=n(5621),a=n(318),c=n(59984);Object.defineProperty(e,"usePopover",{enumerable:!0,get:function(){return c.usePopover}});var u=n(91397),h=n(10808);Object.defineProperty(e,"useArrowContainer",{enumerable:!0,get:function(){return h.useArrowContainer}});var l=n(28385);Object.defineProperty(e,"ArrowContainer",{enumerable:!0,get:function(){return l.ArrowContainer}});var p=["top","left","right","bottom"],d=(0,o.forwardRef)((function(t,e){var n=t.isOpen,r=t.children,h=t.content,l=t.positions,d=void 0===l?p:l,f=t.align,y=void 0===f?"center":f,g=t.padding,m=void 0===g?0:g,b=t.reposition,v=void 0===b||b,w=t.parentElement,R=void 0===w?window.document.body:w,T=t.boundaryElement,_=void 0===T?R:T,E=t.containerClassName,A=t.containerStyle,C=t.transform,k=t.transformMode,O=void 0===k?"absolute":k,S=t.boundaryInset,x=void 0===S?0:S,P=t.onClickOutside,B=t.clickOutsideCapture,L=void 0!==B&&B,N=(0,u.useMemoizedArray)(Array.isArray(d)?d:[d]),j=(0,o.useRef)(!1),M=(0,o.useRef)(),D=(0,o.useRef)(v),I=(0,o.useRef)(),U=(0,o.useState)({align:y,nudgedLeft:0,nudgedTop:0,position:N[0],padding:m,childRect:a.EMPTY_RECT,popoverRect:a.EMPTY_RECT,parentRect:a.EMPTY_RECT,boundaryRect:a.EMPTY_RECT,boundaryInset:x,violations:a.EMPTY_RECT,hasViolations:!1}),q=U[0],F=U[1],V=(0,o.useCallback)((function(t){return F(t)}),[]),z=(0,c.usePopover)({isOpen:n,childRef:I,containerClassName:E,parentElement:R,boundaryElement:_,transform:C,transformMode:O,positions:N,align:y,padding:m,boundaryInset:x,reposition:v,onPositionPopover:V}),H=z.positionPopover,W=z.popoverRef,Y=z.scoutRef;(0,o.useLayoutEffect)((function(){var t=!0,e=function(){var r,i;if(n&&t){var o=null===(r=null==I?void 0:I.current)||void 0===r?void 0:r.getBoundingClientRect(),s=null===(i=null==W?void 0:W.current)||void 0===i?void 0:i.getBoundingClientRect();null==o||null==s||(0,a.rectsAreEqual)(o,q.childRect)&&s.width===q.popoverRect.width&&s.height===q.popoverRect.height&&q.padding===m&&q.align===y&&N===M.current&&v===D.current||H(),N!==M.current&&(M.current=N),v!==D.current&&(D.current=v),t&&window.requestAnimationFrame(e)}j.current=n};return window.requestAnimationFrame(e),function(){t=!1}}),[y,n,m,W,q.align,q.childRect,q.padding,q.popoverRect.height,q.popoverRect.width,H,N,v]),(0,o.useEffect)((function(){var t=W.current;return Object.assign(t.style,A),function(){Object.keys(null!=A?A:{}).forEach((function(e){return delete t.style[e]}))}}),[A,n,W]);var $=(0,o.useCallback)((function(t){var e,r;!n||(null===(e=W.current)||void 0===e?void 0:e.contains(t.target))||(null===(r=I.current)||void 0===r?void 0:r.contains(t.target))||null==P||P(t)}),[n,P,W]),K=(0,o.useCallback)((function(){I.current&&window.requestAnimationFrame((function(){return H()}))}),[H]);(0,o.useEffect)((function(){var t=R.ownerDocument.body;return t.addEventListener("click",$,L),t.addEventListener("contextmenu",$,L),t.addEventListener("resize",K),function(){t.removeEventListener("click",$,L),t.removeEventListener("contextmenu",$,L),t.removeEventListener("resize",K)}}),[L,$,K,R]);var J=(0,o.useCallback)((function(t){I.current=t,null!=e&&("object"==typeof e?e.current=t:"function"==typeof e&&e(t))}),[e]);return(0,i.jsxs)(i.Fragment,{children:[(0,o.cloneElement)(r,{ref:J}),n?(0,i.jsx)(s.PopoverPortal,{element:W.current,scoutElement:Y.current,container:R,children:"function"==typeof h?h(q):h}):null]})}));e.Popover=(0,o.forwardRef)((function(t,e){return"undefined"==typeof window?t.children:(0,i.jsx)(d,r({},t,{ref:e}))}))},5621:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopoverPortal=void 0;var r=n(62991),i=n(65883);e.PopoverPortal=function(t){var e=t.container,n=t.element,o=t.scoutElement,s=t.children;return(0,r.useLayoutEffect)((function(){return e.appendChild(n),e.appendChild(o),function(){e.removeChild(n),e.removeChild(o)}}),[e,n,o]),(0,i.createPortal)(s,n)}},10808:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.useArrowContainer=void 0;var i=n(62991);e.useArrowContainer=function(t){var e=t.childRect,n=t.popoverRect,o=t.position,s=t.arrowSize,a=t.arrowColor;return{arrowContainerStyle:(0,i.useMemo)((function(){return{padding:s}}),[s]),arrowStyle:(0,i.useMemo)((function(){return r({position:"absolute"},function(){var t=2*s,r=e.top-n.top+e.height/2-t/2,i=e.left-n.left+e.width/2-t/2,c=s,u=n.width-s,h=n.height-s;switch(i=(i=i<c?c:i)+t>u?u-t:i,r=(r=r<c?c:r)+t>h?h-t:r,r=Number.isNaN(r)?0:r,i=Number.isNaN(i)?0:i,o){case"right":return{borderTop:"".concat(s,"px solid transparent"),borderBottom:"".concat(s,"px solid transparent"),borderRight:"".concat(s,"px solid ").concat(a),left:0,top:r};case"left":return{borderTop:"".concat(s,"px solid transparent"),borderBottom:"".concat(s,"px solid transparent"),borderLeft:"".concat(s,"px solid ").concat(a),right:0,top:r};case"bottom":return{borderLeft:"".concat(s,"px solid transparent"),borderRight:"".concat(s,"px solid transparent"),borderBottom:"".concat(s,"px solid ").concat(a),top:0,left:i};case"top":return{borderLeft:"".concat(s,"px solid transparent"),borderRight:"".concat(s,"px solid transparent"),borderTop:"".concat(s,"px solid ").concat(a),bottom:0,left:i};default:return{display:"hidden"}}}())}),[a,s,e.height,e.left,e.top,e.width,n.height,n.left,n.top,n.width,o])}}},94346:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useElementRef=void 0;var r=n(62991),i=n(318);e.useElementRef=function(t){var e=t.containerClassName,n=t.containerStyle,o=t.id,s=(0,r.useRef)(),a=(0,r.useMemo)((function(){return(0,i.createContainer)({containerStyle:n,containerClassName:e,id:o})}),[e,n,o]);return s.current=a,s}},91397:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMemoizedArray=void 0;var r=n(62991);e.useMemoizedArray=function(t){var e=(0,r.useRef)(t);return(0,r.useMemo)((function(){if(e.current===t)return e.current;if(e.current.length!==t.length)return e.current=t,t;for(var n=0;n<t.length;n+=1)if(t[n]!==e.current[n])return e.current=t,t;return e.current}),[t])}},59984:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePopover=void 0;var r=n(62991),i=n(318),o=n(94346),s={position:"fixed",overflow:"visible",top:"0px",left:"0px"},a={position:"fixed",top:"0px",left:"0px",width:"0px",height:"0px",visibility:"hidden"};e.usePopover=function(t){var e=t.isOpen,n=t.childRef,c=t.positions,u=t.containerClassName,h=t.parentElement,l=t.transform,p=t.transformMode,d=t.align,f=t.padding,y=t.reposition,g=t.boundaryInset,m=t.boundaryElement,b=t.onPositionPopover,v=(0,o.useElementRef)({id:"react-tiny-popover-scout",containerStyle:a}),w=(0,o.useElementRef)({id:"react-tiny-popover-container",containerClassName:u,containerStyle:s}),R=(0,r.useCallback)((function(t){var r,o,s=void 0===t?{}:t,a=s.positionIndex,u=void 0===a?0:a,T=s.parentRect,_=void 0===T?h.getBoundingClientRect():T,E=s.childRect,A=void 0===E?null===(r=null==n?void 0:n.current)||void 0===r?void 0:r.getBoundingClientRect():E,C=s.scoutRect,k=void 0===C?null===(o=null==v?void 0:v.current)||void 0===o?void 0:o.getBoundingClientRect():C,O=s.popoverRect,S=void 0===O?w.current.getBoundingClientRect():O,x=s.boundaryRect,P=void 0===x?m===h?_:m.getBoundingClientRect():x;if(A&&_&&e){if(l&&"absolute"===p){var B="function"==typeof l?l({childRect:A,popoverRect:S,parentRect:_,boundaryRect:P,padding:f,align:d,nudgedTop:0,nudgedLeft:0,boundaryInset:g,violations:i.EMPTY_RECT,hasViolations:!1}):l,L=B.top,N=B.left,j=Math.round(_.left+N-k.left),M=Math.round(_.top+L-k.top);return w.current.style.transform="translate(".concat(j,"px, ").concat(M,"px)"),void b({childRect:A,popoverRect:(0,i.createRect)({left:j,top:M,width:S.width,height:S.height}),parentRect:_,boundaryRect:P,padding:f,align:d,transform:{top:L,left:N},nudgedTop:0,nudgedLeft:0,boundaryInset:g,violations:i.EMPTY_RECT,hasViolations:!1})}var D=u===c.length,I=D?c[0]:c[u],U=(0,i.getNewPopoverRect)({childRect:A,popoverRect:S,boundaryRect:P,position:I,align:d,padding:f,reposition:y},g),q=U.rect;if(U.boundaryViolation&&y&&!D)R({positionIndex:u+1,childRect:A,popoverRect:S,parentRect:_,boundaryRect:P});else{var F=q.top,V=q.left,z=q.width,H=q.height,W=y&&!D,Y=(0,i.getNudgedPopoverRect)(q,P,g),$=Y.left,K=Y.top,J=F,X=V;W&&(J=K,X=$),J=Math.round(J-k.top),X=Math.round(X-k.left),w.current.style.transform="translate(".concat(X,"px, ").concat(J,"px)");var Q={top:P.top+g-J,left:P.left+g-X,right:X+z-P.right+g,bottom:J+H-P.bottom+g},G={childRect:A,popoverRect:(0,i.createRect)({left:X,top:J,width:z,height:H}),parentRect:_,boundaryRect:P,position:I,align:d,padding:f,nudgedTop:K-F,nudgedLeft:$-V,boundaryInset:g,violations:{top:Q.top<=0?0:Q.top,left:Q.left<=0?0:Q.left,right:Q.right<=0?0:Q.right,bottom:Q.bottom<=0?0:Q.bottom},hasViolations:Q.top>0||Q.left>0||Q.right>0||Q.bottom>0};if(l){b(G);var Z="function"==typeof l?l(G):l,tt=Z.top,et=Z.left;w.current.style.transform="translate(".concat(Math.round(X+(null!=et?et:0)),"px, ").concat(Math.round(J+(null!=tt?tt:0)),"px)"),G.nudgedLeft+=null!=et?et:0,G.nudgedTop+=null!=tt?tt:0,G.transform={top:tt,left:et}}b(G)}}}),[h,n,v,w,m,e,l,p,c,d,f,y,g,b]);return{positionPopover:R,popoverRef:w,scoutRef:v}}},318:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getNudgedPopoverRect=e.getNewPopoverRect=e.popoverRectForPosition=e.createContainer=e.rectsAreEqual=e.createRect=e.EMPTY_RECT=void 0,e.EMPTY_RECT={top:0,left:0,right:0,bottom:0,width:0,height:0},e.createRect=function(t){var e=t.top,n=t.left,r=t.width,i=t.height;return{top:e,left:n,width:r,height:i,right:n+r,bottom:e+i}},e.rectsAreEqual=function(t,e){return t===e||(null==t?void 0:t.bottom)===(null==e?void 0:e.bottom)&&(null==t?void 0:t.height)===(null==e?void 0:e.height)&&(null==t?void 0:t.left)===(null==e?void 0:e.left)&&(null==t?void 0:t.right)===(null==e?void 0:e.right)&&(null==t?void 0:t.top)===(null==e?void 0:e.top)&&(null==t?void 0:t.width)===(null==e?void 0:e.width)},e.createContainer=function(t){var e=t.containerStyle,n=t.containerClassName,r=t.id,i=window.document.createElement("div");return i.id=r,n&&(i.className=n),Object.assign(i.style,e),i},e.popoverRectForPosition=function(t,n,r,i,o){var s,a,c=n.left+n.width/2,u=n.top+n.height/2,h=r.width,l=r.height;switch(t){case"left":s=u-l/2,a=n.left-i-h,"start"===o&&(s=n.top),"end"===o&&(s=n.bottom-l);break;case"bottom":s=n.bottom+i,a=c-h/2,"start"===o&&(a=n.left),"end"===o&&(a=n.right-h);break;case"right":s=u-l/2,a=n.right+i,"start"===o&&(s=n.top),"end"===o&&(s=n.bottom-l);break;default:s=n.top-l-i,a=c-h/2,"start"===o&&(a=n.left),"end"===o&&(a=n.right-h)}return(0,e.createRect)({left:a,top:s,width:h,height:l})},e.getNewPopoverRect=function(t,n){var r=t.position,i=t.align,o=t.childRect,s=t.popoverRect,a=t.boundaryRect,c=t.padding,u=t.reposition,h=(0,e.popoverRectForPosition)(r,o,s,c,i);return{rect:h,boundaryViolation:u&&("top"===r&&h.top<a.top+n||"left"===r&&h.left<a.left+n||"right"===r&&h.right>a.right-n||"bottom"===r&&h.bottom>a.bottom-n)}},e.getNudgedPopoverRect=function(t,r,i){var o=r.top+i,s=r.left+i,a=r.right-i,c=r.bottom-i,u=t.top<o?o:t.top;u=u+t.height>c?c-t.height:u;var h=t.left<s?s:t.left;return h=h+t.width>a?a-t.width:h,(0,e.createRect)(n(n({},t),{top:u,left:h}))}},55733:function(t,e,n){const r=n(69757),i=n(32649);t.exports=class{mediaRecorder;stream;__data;async start(t={audio:!0,video:!1}){if("recording"===this.mediaRecorder?.state)return!0;const e=t||{audio:!0,video:!1};try{this.stream=await navigator.mediaDevices.getUserMedia(e),this.mediaRecorder=new MediaRecorder(this.stream),this.mediaRecorder.ondataavailable=t=>this.__data=t.data}catch(t){return console.error(t),!1}return this.mediaRecorder?.start(),!0}stop(){if("recording"!==this.mediaRecorder?.state)return!0;this.mediaRecorder.stop(),this.mediaRecorder.onstop=()=>{this.stream.getTracks().forEach((t=>t.stop())),this.mediaRecorder=void 0,this.stream=void 0}}async download(t=null,e=!1,n=void 0){if(this.__data)return await i(this.__data,e,t,n)}async getBlob(t=!1,e=void 0){if(this.__data)return await r(this.__data,t,e)}}},32649:function(t,e,n){const r=n(69757);t.exports=async function(t,e,n=null,i=void 0){const o=await r(t,e,i),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=n||`recording('${e?"32bit":"16bit"}).wav`,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},39467:function(t,e,n){n(55733),n(69757),n(32649)},69757:function(t){function e(t,e,n){for(let r=0;r<t.length;++r)e[n+r]=t.charCodeAt(r)}function n(t,e,n){t=Math.floor(t),e[n+0]=255&t,e[n+1]=t>>8&255}function r(t,e,n){t=Math.floor(t),e[n+0]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255}function i(t){const e=new ArrayBuffer(4);return new Float32Array(e)[0]=t,0|new Uint32Array(e)[0]}t.exports=async function(t,o,s=void 0){const a=await async function(t,e){let n=t;n instanceof Blob||(n=new Blob([t]));const r=URL.createObjectURL(n),i=await fetch(r),o=await i.arrayBuffer(),s=new AudioContext(e);return await s.decodeAudioData(o)}(t,s),c=a.length,u=a.numberOfChannels,h=a.sampleRate,l=o?32:16,p=h*u*l/8,d=u*l/8,f=c*u*(l/8),y=new Uint8Array(44+f),g=f,m=28+(8+g);return e("RIFF",y,0),r(m,y,4),e("WAVE",y,8),e("fmt ",y,12),r(16,y,16),n(o?3:1,y,20),n(u,y,22),r(h,y,24),r(p,y,28),n(d,y,32),r(l,y,34),e("data",y,36),r(g,y,40),function(t,e,o,s){let a=0,c=0;const u=t.length,h=t.numberOfChannels;let l,p;for(a=0;a<u;++a)for(c=0;c<h;++c)if(l=t.getChannelData(c),16===s)p=32768*l[a],p<-32768?p=-32768:p>32767&&(p=32767),n(p,e,o),o+=2;else{if(32!==s)return void console.log("Invalid bit depth for PCM encoding.");p=i(l[a]),r(p,e,o),o+=4}}(a,y,44,l),new Blob([y],{type:"audio/wave"})}},38752:function(t,e,n){"use strict";var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function y(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function g(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=g(e);return e.readAsArrayBuffer(t),n}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:s&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c&&s&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return y(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(s)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,n,r,i,o=y(this);if(o)return o;if(this._bodyBlob)return t=this._bodyBlob,n=g(e=new FileReader),i=(r=/charset=([A-Za-z0-9_-]+)/.exec(t.type))?r[1]:"utf-8",e.readAsText(t,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=l(t),e=p(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[l(t)]},f.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},f.prototype.set=function(t,e){this.map[l(t)]=p(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},o&&(f.prototype[Symbol.iterator]=f.prototype.entries);var w=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(t,e){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(e=e||{}).body;if(t instanceof R){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(i=(n=e.method||this.method||"GET").toUpperCase(),w.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function T(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},v.call(R.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})};var A=r.DOMException;try{new A}catch(t){(A=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),A.prototype.constructor=A}function C(t,e){return new Promise((function(n,i){var o=new R(t,e);if(o.signal&&o.signal.aborted)return i(new A("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}if(a.onload=function(){var t,e,r={statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{e.append(r,i)}catch(t){console.warn("Response "+t.message)}}})),e)};0===o.url.indexOf("file://")&&(a.status<200||a.status>599)?r.status=200:r.status=a.status,r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;setTimeout((function(){n(new _(i,r))}),0)},a.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},a.onabort=function(){setTimeout((function(){i(new A("Aborted","AbortError"))}),0)},a.open(o.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":c&&(a.responseType="arraybuffer")),e&&"object"==typeof e.headers&&!(e.headers instanceof f||r.Headers&&e.headers instanceof r.Headers)){var h=[];Object.getOwnPropertyNames(e.headers).forEach((function(t){h.push(l(t)),a.setRequestHeader(t,p(e.headers[t]))})),o.headers.forEach((function(t,e){-1===h.indexOf(e)&&a.setRequestHeader(e,t)}))}else o.headers.forEach((function(t,e){a.setRequestHeader(e,t)}));o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=f,r.Request=R,r.Response=_)},73699:function(t,e,n){"use strict";n.d(e,{io:function(){return Et}});var r={};n.r(r),n.d(r,{Decoder:function(){return gt},Encoder:function(){return ft},PacketType:function(){return dt},protocol:function(){return pt}});const i=Object.create(null);i.open="0",i.close="1",i.ping="2",i.pong="3",i.message="4",i.upgrade="5",i.noop="6";const o=Object.create(null);Object.keys(i).forEach((t=>{o[i[t]]=t}));const s={type:"error",data:"parser error"},a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,u=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,h=({type:t,data:e},n,r)=>a&&e instanceof Blob?n?r(e):l(e,r):c&&(e instanceof ArrayBuffer||u(e))?n?r(e):l(new Blob([e]),r):r(i[t]+(e||"")),l=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function p(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let d;const f="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const y="function"==typeof ArrayBuffer,g=(t,e)=>{if("string"!=typeof t)return{type:"message",data:b(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:m(t.substring(1),e)}:o[n]?t.length>1?{type:o[n],data:t.substring(1)}:{type:o[n]}:s},m=(t,e)=>{if(y){const n=(t=>{let e,n,r,i,o,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);const u=new ArrayBuffer(s),h=new Uint8Array(u);for(e=0;e<a;e+=4)n=f[t.charCodeAt(e)],r=f[t.charCodeAt(e+1)],i=f[t.charCodeAt(e+2)],o=f[t.charCodeAt(e+3)],h[c++]=n<<2|r>>4,h[c++]=(15&r)<<4|i>>2,h[c++]=(3&i)<<6|63&o;return u})(t);return b(n,e)}return{base64:!0,data:t}},b=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,v=String.fromCharCode(30);let w;function R(t){return t.reduce(((t,e)=>t+e.length),0)}function T(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function _(t){if(t)return function(t){for(var e in _.prototype)t[e]=_.prototype[e];return t}(t)}_.prototype.on=_.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},_.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},_.prototype.off=_.prototype.removeListener=_.prototype.removeAllListeners=_.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},_.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},_.prototype.emitReserved=_.prototype.emit,_.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},_.prototype.hasListeners=function(t){return!!this.listeners(t).length};const E="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function A(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const C=E.setTimeout,k=E.clearTimeout;function O(t,e){e.useNativeTimers?(t.setTimeoutFn=C.bind(E),t.clearTimeoutFn=k.bind(E)):(t.setTimeoutFn=E.setTimeout.bind(E),t.clearTimeoutFn=E.clearTimeout.bind(E))}class S extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class x extends _{constructor(t){super(),this.writable=!1,O(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new S(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=g(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(t);return e.length?"?"+e:""}}const P="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),B=64,L={};let N,j=0,M=0;function D(t){let e="";do{e=P[t%B]+e,t=Math.floor(t/B)}while(t>0);return e}function I(){const t=D(+new Date);return t!==N?(j=0,N=t):t+"."+D(j++)}for(;M<B;M++)L[P[M]]=M;let U=!1;try{U="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const q=U;function F(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||q))return new XMLHttpRequest}catch(t){}if(!e)try{return new(E[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function V(){}const z=null!=new F({xdomain:!1}).responseType;class H extends _{constructor(t,e){super(),O(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=A(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const n=this.xhr=new F(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=H.requestsCount++,H.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=V,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete H.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function W(){for(let t in H.requests)H.requests.hasOwnProperty(t)&&H.requests[t].abort()}H.requestsCount=0,H.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",W):"function"==typeof addEventListener&&addEventListener("onpagehide"in E?"pagehide":"unload",W,!1));const Y="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),$=E.WebSocket||E.MozWebSocket,K="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),J={websocket:class extends x{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=K?{}:A(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=K?new $(t,e,n):e?new $(t,e):new $(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;h(n,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}r&&Y((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=I()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!$}},webtransport:class extends x{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=function(t,e){w||(w=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(0===r){if(R(n)<1)break;const t=T(n,1);o=128==(128&t[0]),i=127&t[0],r=i<126?3:126===i?1:2}else if(1===r){if(R(n)<2)break;const t=T(n,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),r=3}else if(2===r){if(R(n)<8)break;const t=T(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){c.enqueue(s);break}i=o*Math.pow(2,32)+e.getUint32(4),r=3}else{if(R(n)<i)break;const t=T(n,i);c.enqueue(g(o?t:w.decode(t),e)),r=0}if(0===i||i>t){c.enqueue(s);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),r=new TransformStream({transform(t,e){!function(t,e){a&&t.data instanceof Blob?t.data.arrayBuffer().then(p).then(e):c&&(t.data instanceof ArrayBuffer||u(t.data))?e(p(t.data)):h(t,!1,(t=>{d||(d=new TextEncoder),e(d.encode(t))}))}(t,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,r)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(r))}t.data&&"string"!=typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(n)}))}});r.readable.pipeTo(t.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;this.writer.write(n).then((()=>{r&&Y((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}},polling:class extends x{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port}const e=t&&t.forceBase64;this.supportsBinary=z&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split(v),r=[];for(let t=0;t<n.length;t++){const i=g(n[t],e);if(r.push(i),"error"===i.type)break}return r})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach(((t,o)=>{h(t,!1,(t=>{r[o]=t,++i===n&&e(r.join(v))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=I()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new H(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},X=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Q=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function G(t){const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=X.exec(t||""),o={},s=14;for(;s--;)o[Q[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const n=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1),"/"==e.slice(-1)&&n.splice(n.length-1,1),n}(0,o.path),o.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}class Z extends _{constructor(t,e={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"==typeof t&&(e=t,t=null),t?(t=G(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=G(e.host).host),O(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let t=0,r=n.length;t<r;t++){let r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new J[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Z.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;Z.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Z.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){n||(n=!0,u(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function s(){o("transport closed")}function a(){o("socket closed")}function c(t){e&&t.name!==e.name&&i()}const u=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};e.once("open",r),e.once("error",o),e.once("close",s),this.once("close",a),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",Z.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+="string"==typeof(e=r)?function(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){Z.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}Z.protocol=4,Z.protocol;const tt="function"==typeof ArrayBuffer,et=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,nt=Object.prototype.toString,rt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===nt.call(Blob),it="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===nt.call(File);function ot(t){return tt&&(t instanceof ArrayBuffer||et(t))||rt&&t instanceof Blob||it&&t instanceof File}function st(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(st(t[e]))return!0;return!1}if(ot(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return st(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&st(t[e]))return!0;return!1}function at(t){const e=[],n=t.data,r=t;return r.data=ct(n,e),r.attachments=e.length,{packet:r,buffers:e}}function ct(t,e){if(!t)return t;if(ot(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=ct(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=ct(t[r],e));return n}return t}function ut(t,e){return t.data=ht(t.data,e),delete t.attachments,t}function ht(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=ht(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ht(t[n],e));return t}const lt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],pt=5;var dt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(dt||(dt={}));class ft{constructor(t){this.replacer=t}encode(t){return t.type!==dt.EVENT&&t.type!==dt.ACK||!st(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===dt.EVENT?dt.BINARY_EVENT:dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==dt.BINARY_EVENT&&t.type!==dt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=at(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}function yt(t){return"[object Object]"===Object.prototype.toString.call(t)}class gt extends _{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===dt.BINARY_EVENT;n||e.type===dt.BINARY_ACK?(e.type=n?dt.EVENT:dt.ACK,this.reconstructor=new mt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!ot(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===dt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===dt.BINARY_EVENT||n.type===dt.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!gt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case dt.CONNECT:return yt(e);case dt.DISCONNECT:return void 0===e;case dt.CONNECT_ERROR:return"string"==typeof e||yt(e);case dt.EVENT:case dt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===lt.indexOf(e[0]));case dt.ACK:case dt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=ut(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function bt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const vt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class wt extends _{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bt(t,"open",this.onopen.bind(this)),bt(t,"packet",this.onpacket.bind(this)),bt(t,"error",this.onerror.bind(this)),bt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(vt.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const n={type:dt.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,r=e.pop();this._registerAckCallback(t,r),n.id=t}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),r);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...t])}}emitWithAck(t,...e){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,i)=>{e.push(((t,e)=>n?t?i(t):r(e):r(t))),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...r)=>{if(n===this._queue[0])return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dt.EVENT:case dt.BINARY_EVENT:this.onevent(t);break;case dt.ACK:case dt.BINARY_ACK:this.onack(t);break;case dt.DISCONNECT:this.ondisconnect();break;case dt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:dt.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Rt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Rt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Rt.prototype.reset=function(){this.attempts=0},Rt.prototype.setMin=function(t){this.ms=t},Rt.prototype.setMax=function(t){this.max=t},Rt.prototype.setJitter=function(t){this.jitter=t};class Tt extends _{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,O(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Rt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Z(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=bt(e,"open",(function(){n.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=bt(e,"error",i);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bt(t,"ping",this.onping.bind(this)),bt(t,"data",this.ondata.bind(this)),bt(t,"error",this.onerror.bind(this)),bt(t,"close",this.onclose.bind(this)),bt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){Y((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new wt(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const _t={};function Et(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=G(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=_t[i]&&o in _t[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||s?a=new Tt(r,e):(_t[i]||(_t[i]=new Tt(r,e)),a=_t[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(Et,{Manager:Tt,Socket:wt,io:Et,connect:Et})}}]);