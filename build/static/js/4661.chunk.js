"use strict";(this.webpackChunkproject_bae=this.webpackChunkproject_bae||[]).push([[4661],{64661:function(e,t,a){a.r(t),a.d(t,{default:function(){return z}});var n,l,r,c=a(62991),o=a(36607),s=a(63265),i=a(87536),u=a(23766),m=a(37671),d=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function c(e){try{s(n.next(e))}catch(e){r(e)}}function o(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}s((n=n.apply(e,t||[])).next())}))},f=function(e,t){var a,n,l,r,c={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(c=0)),c;)try{if(a=1,n&&(l=2&o[0]?n.return:o[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,o[1])).done)return l;switch(n=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((l=(l=c.trys).length>0&&l[l.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){c.label=o[1];break}if(6===o[0]&&c.label<l[1]){c.label=l[1],l=o;break}if(l&&c.label<l[2]){c.label=l[2],c.ops.push(o);break}l[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],n=0}finally{a=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},p=Math.PI/180,h=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function c(e){try{s(n.next(e))}catch(e){r(e)}}function o(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}s((n=n.apply(e,t||[])).next())}))},v=function(e,t){var a,n,l,r,c={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(c=0)),c;)try{if(a=1,n&&(l=2&o[0]?n.return:o[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,o[1])).done)return l;switch(n=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((l=(l=c.trys).length>0&&l[l.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){c.label=o[1];break}if(6===o[0]&&c.label<l[1]){c.label=l[1],l=o;break}if(l&&c.label<l[2]){c.label=l[2],c.ops.push(o);break}l[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],n=0}finally{a=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function b(e,t,a,n){return void 0===a&&(a=1),void 0===n&&(n=0),h(this,void 0,void 0,(function(){var l;return v(this,(function(r){return l=document.createElement("canvas"),function(e,t,a,n,l){void 0===n&&(n=1),void 0===l&&(l=0),d(this,void 0,void 0,(function(){var r,c,o,s,i,u,m,d,h;return f(this,(function(f){if(!(r=t.getContext("2d")))throw new Error("No 2d context");return c=e.naturalWidth/e.width,o=e.naturalHeight/e.height,s=window.devicePixelRatio,t.width=Math.floor(a.width*c*s),t.height=Math.floor(a.height*o*s),r.scale(s,s),r.imageSmoothingQuality="high",i=a.x*c,u=a.y*o,m=l*p,d=e.naturalWidth/2,h=e.naturalHeight/2,r.save(),r.translate(-i,-u),r.translate(d,h),r.rotate(m),r.scale(n,n),r.translate(-d,-h),r.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),r.restore(),[2]}))}))}(e,l,t,a,n),[2,l.toDataURL("image/png")]}))}))}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},x.apply(this,arguments)}a(53719);var E=function(e){return c.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",fill:"#fff",width:24,height:24,"aria-hidden":"true"},e),n||(n=c.createElement("path",{d:"M9.537 7.508a2.03 2.03 0 1 1-4.058 0 2.03 2.03 0 0 1 4.058 0Z",fill:"currentColor"})),l||(l=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.348 2A4.348 4.348 0 0 0 2 6.348v9.276a4.348 4.348 0 0 0 4.348 4.348h5.194a6.377 6.377 0 0 1 8.43-8.43V6.348A4.348 4.348 0 0 0 15.624 2H6.348ZM3.74 6.348A2.609 2.609 0 0 1 6.35 3.74h9.275a2.609 2.609 0 0 1 2.609 2.61v4.673l-2.657-1.66a1.74 1.74 0 0 0-2.086.182l-4.287 3.858a1.16 1.16 0 0 1-1.206.215l-1.288-.515a1.74 1.74 0 0 0-1.732.256l-1.238.99v-8Z",fill:"currentColor"})),r||(r=c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.726 17.362a4.638 4.638 0 1 1 9.276 0 4.638 4.638 0 0 1-9.276 0Zm4.638-2.899c.48 0 .87.39.87.87v1.16h1.159a.87.87 0 0 1 0 1.739h-1.16v1.16a.87.87 0 1 1-1.739 0v-1.16h-1.16a.87.87 0 1 1 0-1.74h1.16v-1.16c0-.48.39-.869.87-.869Z"})))},g=a(41663),N=function(e,t,a,n){return new(a||(a=Promise))((function(l,r){function c(e){try{s(n.next(e))}catch(e){r(e)}}function o(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,o)}s((n=n.apply(e,t||[])).next())}))},w=function(e,t){var a,n,l,r,c={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(c=0)),c;)try{if(a=1,n&&(l=2&o[0]?n.return:o[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,o[1])).done)return l;switch(n=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((l=(l=c.trys).length>0&&l[l.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){c.label=o[1];break}if(6===o[0]&&c.label<l[1]){c.label=l[1],l=o;break}if(l&&c.label<l[2]){c.label=l[2],c.ops.push(o);break}l[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],n=0}finally{a=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function y(e){var t=(0,c.useState)(),a=t[0],n=t[1],l=(0,c.useRef)(null),r=(0,c.useState)(""),o=r[0],s=r[1],i=(0,c.useState)(null),d=i[0],f=i[1],p=(0,c.useRef)(null),h=c.useState(!1),v=h[0],x=h[1];return c.createElement("div",null,c.createElement("div",{className:"relative w-[100px] h-[100px] rounded-full border-[#2b2e3b] border-[1px] cursor-pointer"},c.createElement("input",{ref:p,type:"file",accept:"image/png, image/jpeg",className:"hidden",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){var e;return s((null===(e=t.result)||void 0===e?void 0:e.toString())||"")})),t.readAsDataURL(e.target.files[0]),x(!0)}p.current&&(p.current.value="")}}),c.createElement("img",{className:"w-full h-full rounded-full",alt:"avatar",src:d||g}),c.createElement("div",{className:"absolute opacity-0 hover:opacity-100 top-0 left-0 w-full h-full flex justify-center items-center rounded-full bg-[#0007]",onClick:function(){return!!p.current&&p.current.click()}},c.createElement("div",{className:"scale-[2]"},c.createElement(E,null)))),c.createElement(u.Dialog,{open:v,placeholder:void 0,handler:function(){x(!1)}},c.createElement(u.DialogBody,{placeholder:void 0},c.createElement(m.ZP,{crop:a,onChange:function(e,t){return n(t)},onComplete:function(e){return function(e){return N(this,void 0,void 0,(function(){var t;return w(this,(function(a){switch(a.label){case 0:return l.current?[4,b(l.current,e)]:[3,2];case 1:t=a.sent(),f(t),a.label=2;case 2:return[2]}}))}))}(e)},aspect:1,minHeight:32,circularCrop:!0},c.createElement("img",{ref:l,alt:"Crop avatar",src:o,onLoad:function(e){var t,a,l=e.currentTarget,r=l.width,c=l.height;n((t=r,a=c,1,(0,m._H)((0,m.YG)({unit:"%",width:90},1,t,a),t,a)))}})),c.createElement("div",{className:"Crop-Controls"})),c.createElement(u.DialogFooter,{placeholder:void 0},c.createElement(u.Button,{className:"mr-1",variant:"text",color:"red",placeholder:void 0,onClick:function(){x(!1)}},c.createElement("span",null,"Cancel")),c.createElement(u.Button,{variant:"gradient",color:"green",onClick:function(){d&&(e.onSelected(d),x(!1))},placeholder:void 0},c.createElement("span",null,"OK")))))}var S,C=a(13621),k=a(9566),M=function(){return M=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},M.apply(this,arguments)};function j(){var e=(0,o.s0)(),t=(0,c.useContext)(s.Z).auth,a=(0,i.cI)(),n=(0,c.useState)(!1),l=n[0],r=n[1],m=(0,c.useState)("Live2d"),d=m[0],f=(m[1],(0,c.useState)(k.DX[0])),p=f[0],h=f[1],v=(0,c.useState)(!1),b=v[0],x=v[1],g=(0,c.useState)([]),N=g[0],w=g[1],S=(0,c.useState)(""),j=S[0],A=S[1],I=(0,c.useState)(""),L=I[0],P=I[1],_=(0,c.useState)(""),O=_[0],D=_[1],B=(0,c.useState)(""),H=B[0],R=B[1],z=(0,c.useState)(""),T=z[0],Z=z[1],X=(0,c.useState)(k.LX[0]),W=X[0],F=X[1],G=(0,c.useState)("Annette"),V=G[0],K=G[1],U=(0,c.useState)(""),q=U[0],Q=U[1],Y=(0,c.useState)(k.pv[0]),J=Y[0],$=Y[1];function ee(e,t){return e.slice(0,t)}return(0,c.useEffect)((function(){t.state.isConnected||e("/mybae");var a=[];k.A2.map((function(e){"en"==e.voice.split("-")[0]&&a.push(e.voice.split("-")[2].replace("Neural",""))})),w(a)}),[]),c.createElement(i.RV,M({},a),c.createElement("form",{className:"relative h-full flex flex-col p-4",onSubmit:a.handleSubmit((function(){if(!l)if(t.state.chainId&&""!=t.state.address){r(!0);var a=new FormData;a.append("address",t.state.address),a.append("chainId",t.state.chainId.toString()),a.append("name",L),a.append("description",O),a.append("type",d),a.append("model",p.model),a.append("intro",H),a.append("bio",T),a.append("prompt",q),a.append("chatmodel",J),a.append("lang",W.code),a.append("voice",V),a.append("isPublished",b?"true":"false"),a.append("avatar",j),a.forEach((function(e,t){return console.log(t,"=",e)})),(0,C._5)(a).then((function(t){console.log(t),r(!1),200==t.status&&e("/mybae")})).catch((function(e){console.log(e),r(!1)}))}else console.log("please connecct your wallet ...")}))},c.createElement("div",{className:"w-full h-[80px] flex items-center justify-between bg-[#171717] rounded-t-[2rem] p-[2rem]"},c.createElement("div",null,c.createElement("span",{className:"text-[24px] font-medium"},"Create a BAE"),c.createElement("p",{className:"text-[12px] text-[#b8bccf]"},"Customize your BAE to others. ",c.createElement("a",{className:"text-[#5974ff] underline cursor-pointer"},"Learn More"))),c.createElement("label",{className:"flex justify-between items-center gap-2"},c.createElement("span",{className:""},"Publish BAE"),c.createElement(u.Switch,{className:"h-full w-full checked:bg-[#5974ff]",crossOrigin:void 0,checked:b,onChange:function(){return x(!b)}}))),c.createElement("div",{className:"w-full flex-grow my-[2px] bg-[#171717] overflow-y-auto thin-scroll px-12 py-4"},c.createElement("div",{className:"flex flex-col gap-6"},c.createElement("div",{className:"relative h-[8rem] bg-[#6ba790]"},c.createElement("div",{className:"absolute opacity-0 hover:opacity-100 top-0 left-0 w-full h-full flex justify-end items-start p-4 bg-[#0007]"},c.createElement("div",{className:"cursor-pointer"},c.createElement(E,null))),c.createElement("div",{className:"absolute bottom-[-50px] left-[30px]"},c.createElement(y,{onSelected:function(e){A(e)}}))),c.createElement("div",{className:"flex flex-col items-end gap-2"},c.createElement(u.Menu,null,c.createElement(u.MenuHandler,null,c.createElement("div",{className:"relative w-[128px] h-[128px] rounded-[1rem] bg-[#3d3d3d]"},p&&c.createElement("img",{className:"w-full h-full rounded-[1rem]",alt:"avatar",src:p.thumbnail}),c.createElement("div",{className:"absolute opacity-0 hover:opacity-100 top-0 left-0 w-full h-full flex justify-center items-center rounded-[1rem] bg-[#0007] cursor-pointer"},c.createElement("span",{className:"text-[20px]"},"Coming Soon")))),c.createElement(u.MenuList,{placeholder:void 0},c.createElement(u.MenuItem,{placeholder:void 0,onClick:function(){return h(k.DX[0])}},c.createElement("div",{className:"flex gap-2 items-center"},c.createElement("img",{className:"w-[32px] h-[32px] rounded-[1rem]",alt:"avatar",src:k.DX[0].thumbnail}),c.createElement("span",null,k.DX[0].name))))),c.createElement("label",{className:"text-center"},"Anime Character")),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"* Name"),c.createElement("div",{className:"flex items-center border-[1px] border-[#b8bccf] px-4 py-2 rounded-[1rem]"},c.createElement("input",{className:"w-full h-full bg-transparent outline-none",type:"text",placeholder:"Input a name of your BAE",required:!0,maxLength:30,value:L,onChange:function(e){return P(e.target.value)},onKeyDown:function(e){"Enter"==e.key&&e.preventDefault()}}),c.createElement("span",null,L.length,"/30"))),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"Description"),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"This will be showed to the others",rows:6,value:O,onChange:function(e){return D(ee(e.target.value,300))}}),c.createElement("span",null,O.length,"/300"))),c.createElement("div",{className:"flex items-center gap-8"},c.createElement("div",{className:"flex items-center gap-4"},c.createElement("label",null,"Language"),c.createElement(u.Menu,null,c.createElement(u.MenuHandler,null,c.createElement("div",{className:"rounded-[1rem] px-4 py-2 border-[1px] border-[#b8bccf] cursor-pointer"},W.localName)),c.createElement(u.MenuList,{placeholder:"language select",className:"max-h-[200px]"},k.LX.map((function(e,t){return c.createElement(u.MenuItem,{key:t,placeholder:e.localName,onClick:function(){return function(e){if(F(e),e){var t=[];k.A2.map((function(a){a.voice.split("-")[0]==e.code&&t.push(a.voice.split("-")[2].replace("Neural",""))})),w(t),K(t[0])}}(e)}},e.localName)}))))),c.createElement("div",{className:"flex items-center gap-4"},c.createElement("label",null,"Voice"),c.createElement(u.Menu,null,c.createElement(u.MenuHandler,null,c.createElement("div",{className:"rounded-[1rem] px-4 py-2 border-[1px] border-[#b8bccf] cursor-pointer"},V)),c.createElement(u.MenuList,{placeholder:"",className:"max-h-[200px]"},N.map((function(e,t){return c.createElement(u.MenuItem,{key:t,placeholder:"",onClick:function(){return K(e)}},e)})))))),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"Intro Message"),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"This is the first message your BAE will send.",rows:4,value:H,onChange:function(e){return R(ee(e.target.value,200))}}),c.createElement("span",null,H.length,"/200"))),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"Bio"),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"Character bio",rows:8,value:T,onChange:function(e){return Z(ee(e.target.value,500))}}),c.createElement("span",null,T.length,"/500"))),c.createElement("div",{className:"h-[1px] bg-[#2b2e3b]"}),c.createElement("div",{className:"flex flex-col gap-4"},c.createElement("span",{className:"text-center text-[1.2rem] font-medium mb-4"},"Prompt Setting"),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("div",{className:"flex items-center gap-2"},c.createElement("label",{className:"flex-shrink-0"},"Model Configuration"),c.createElement(u.Menu,null,c.createElement(u.MenuHandler,null,c.createElement("div",{className:"rounded-[1rem] px-4 py-2 border-[1px] border-[#b8bccf] cursor-pointer"},J)),c.createElement(u.MenuList,{placeholder:"chat model select"},k.pv.map((function(e,t){return c.createElement(u.MenuItem,{key:t,placeholder:e,onClick:function(){return $(e)}},e)}))))),c.createElement("div",null)),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("div",{className:"flex justify-between"},c.createElement("label",null,"Prompt")),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"Input your prompt directly or modify templates.",rows:12,value:q,onChange:function(e){return Q(ee(e.target.value,1e3))}}),c.createElement("span",null,q.length,"/1000")))))),c.createElement("div",{className:"w-full h-[80px] flex items-center justify-end gap-4 bg-[#171717] rounded-b-[2rem] p-[2rem]"},c.createElement("input",{type:"submit",value:"".concat(l?"Creating ...":"Save"),className:"".concat(l?"bg-[#5e8b6d] cursor-wait":"bg-[#1e7039]"," rounded-[2rem] px-8 py-3 text-[1.2rem] font-medium cursor-pointer")}),c.createElement("input",{type:"button",value:"Cancel",className:"bg-[#701c2e] rounded-[2rem] px-8 py-3 text-[1.2rem] font-medium cursor-pointer",onClick:function(){e("/mybae")}}))))}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},A.apply(this,arguments)}var I,L=function(e){return c.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",fill:"none",width:24,height:24,strokeWidth:1.5,stroke:"#fff","aria-hidden":"true",className:"plus_svg__w-5 plus_svg__h-5"},e),S||(S=c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})))},P=function(){return P=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},P.apply(this,arguments)},_=function(e){var t=e.character,a=(0,o.s0)(),n=(0,c.useContext)(s.Z).auth,l=(0,i.cI)(),r=(0,c.useState)(!1),m=r[0],d=r[1],f=(0,c.useRef)(null),p=(0,c.useState)(null),h=p[0],v=p[1],b=(0,c.useState)(!1),x=b[0],E=b[1],g=(0,c.useState)([]),N=g[0],w=g[1],S=(0,c.useState)(""),M=S[0],j=S[1],A=(0,c.useState)(""),I=A[0],_=A[1],O=(0,c.useState)(""),D=O[0],B=O[1],H=(0,c.useState)(""),R=H[0],z=H[1],T=(0,c.useState)(""),Z=T[0],X=T[1],W=(0,c.useState)({code:"en",name:"English",localName:"English"}),F=W[0],G=W[1],V=(0,c.useState)("Annette"),K=V[0],U=V[1],q=(0,c.useState)(""),Q=q[0],Y=q[1],J=(0,c.useState)("GPT 3.5"),$=J[0],ee=J[1];function te(e,t){return e.slice(0,t)}return(0,c.useEffect)((function(){if(t){f.current&&f.current.scrollTo(0,0),_(t.name),B(t.description),z(t.intro),X(t.bio),ee(t.chatmodel),Y(t.prompt),E("true"==t.isPublished),k.LX.map((function(e){e.code==t.lang&&G(e)})),U(t.voice),k.DX.map((function(e){e.model==t.model&&v(e)}));var e=[];k.A2.map((function(a){a.voice.split("-")[0]==t.lang&&e.push(a.voice.split("-")[2].replace("Neural",""))})),w(e)}}),[t]),c.createElement("div",{className:"w-full h-full"},t?c.createElement(i.RV,P({},l),c.createElement("form",{className:"relative h-full flex flex-col p-4",onSubmit:l.handleSubmit((function(){if(!m&&t)if(n.state.chainId&&""!=n.state.address){d(!0);var e=new FormData;e.append("address",n.state.address),e.append("chainId",n.state.chainId.toString()),e.append("_id",t._id),e.append("name",I),e.append("description",D),e.append("intro",R),e.append("bio",Z),e.append("prompt",Q),e.append("chatmodel",$),e.append("lang",F.code),e.append("voice",K),e.append("isPublished",x?"true":"false"),e.append("avatar",M),e.forEach((function(e,t){return console.log(t,"=",e)})),(0,C.BK)(e).then((function(e){console.log(e),d(!1)})).catch((function(e){console.log(e),d(!1)}))}else console.log("please connecct your wallet ...")}))},c.createElement("div",{className:"w-full h-[80px] flex items-center justify-between bg-[#171717] rounded-t-[2rem] p-[2rem]"},c.createElement("div",{className:"w-full flex justify-between items-end"},c.createElement("span",{className:"text-[24px] font-medium"},"Settings"),c.createElement("span",{className:"text-[#5974ff] cursor-pointer hover:underline"},"Preview"))),c.createElement("div",{ref:f,className:"w-full flex-grow my-[2px] bg-[#171717] overflow-y-auto thin-scroll px-12 py-4"},c.createElement("div",{className:"flex flex-col gap-6"},c.createElement("div",{className:"flex justify-between gap-4"},c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"Avatar"),c.createElement("div",{className:"flex flex-col"},c.createElement(y,{onSelected:function(e){j(e)}}))),h&&c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"NFT Character"),c.createElement("div",{className:"relative md:w-[128px] md:h-[128px] xl:w-[256px] xl:h-[256px] rounded-[1rem] bg-[#3d3d3d]"},c.createElement("img",{className:"w-full h-full rounded-[1rem]",alt:"avatar",src:h.thumbnail})))),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"* Name"),c.createElement("div",{className:"flex items-center border-[1px] border-[#b8bccf] px-4 py-2 rounded-[1rem]"},c.createElement("input",{className:"w-full h-full bg-transparent outline-none",type:"text",placeholder:"Input a name of your BAE",required:!0,maxLength:30,value:I,onChange:function(e){return _(e.target.value)},onKeyDown:function(e){"Enter"==e.key&&e.preventDefault()}}),c.createElement("span",null,I.length,"/30"))),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"Description"),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"This will be showed to the others",rows:6,value:D,onChange:function(e){return B(te(e.target.value,300))}}),c.createElement("span",null,D.length,"/300"))),c.createElement("div",{className:"flex items-center gap-8"},c.createElement("div",{className:"flex items-center gap-4"},c.createElement("label",null,"Language"),c.createElement(u.Menu,null,c.createElement(u.MenuHandler,null,c.createElement("div",{className:"rounded-[1rem] px-4 py-2 border-[1px] border-[#b8bccf] cursor-pointer"},F.localName)),c.createElement(u.MenuList,{placeholder:"language select",className:"max-h-[200px]"},k.LX.map((function(e,t){return c.createElement(u.MenuItem,{key:t,placeholder:e.localName,onClick:function(){return function(e){if(G(e),e){var t=[];k.A2.map((function(a){a.voice.split("-")[0]==e.code&&t.push(a.voice.split("-")[2].replace("Neural",""))})),w(t),U(t[0])}}(e)}},e.localName)}))))),c.createElement("div",{className:"flex items-center gap-4"},c.createElement("label",null,"Voice"),c.createElement(u.Menu,null,c.createElement(u.MenuHandler,null,c.createElement("div",{className:"rounded-[1rem] px-4 py-2 border-[1px] border-[#b8bccf] cursor-pointer"},K)),c.createElement(u.MenuList,{placeholder:"",className:"max-h-[200px]"},N.map((function(e,t){return c.createElement(u.MenuItem,{key:t,placeholder:"",onClick:function(){return U(e)}},e)})))))),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"Intro Message"),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"This is the first message your BAE will send.",rows:4,value:R,onChange:function(e){return z(te(e.target.value,200))}}),c.createElement("span",null,R.length,"/200"))),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("label",null,"Bio"),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"Character bio",rows:8,value:Z,onChange:function(e){return X(te(e.target.value,500))}}),c.createElement("span",null,Z.length,"/500"))),c.createElement("div",{className:"h-[1px] bg-[#2b2e3b]"}),c.createElement("div",{className:"flex flex-col gap-4"},c.createElement("span",{className:"text-center text-[1.2rem] font-medium mb-4"},"Prompt Setting"),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("div",{className:"flex items-center gap-2"},c.createElement("label",{className:"flex-shrink-0"},"Model Configuration"),c.createElement(u.Menu,null,c.createElement(u.MenuHandler,null,c.createElement("div",{className:"rounded-[1rem] px-4 py-2 border-[1px] border-[#b8bccf] cursor-pointer"},$)),c.createElement(u.MenuList,{placeholder:"chat model select"},k.pv.map((function(e,t){return c.createElement(u.MenuItem,{key:t,placeholder:e,onClick:function(){return ee(e)}},e)}))))),c.createElement("div",null)),c.createElement("div",{className:"flex flex-col gap-2"},c.createElement("div",{className:"flex justify-between"},c.createElement("label",null,"Prompt")),c.createElement("div",{className:"flex flex-col items-end border-[1px] border-[#b8bccf] px-4 pt-4 pb-2 rounded-[1rem]"},c.createElement("textarea",{className:"w-full h-full bg-transparent outline-none resize-none thin-scroll",placeholder:"Input your prompt directly or modify templates.",rows:12,value:Q,onChange:function(e){return Y(te(e.target.value,1e3))}}),c.createElement("span",null,Q.length,"/1000")))))),c.createElement("div",{className:"w-full h-[80px] flex items-center justify-end gap-4 bg-[#171717] rounded-b-[2rem] p-[2rem]"},c.createElement("label",{className:"flex justify-between items-center gap-2"},c.createElement("span",{className:""},"Publish BAE"),c.createElement(u.Switch,{className:"h-full w-full checked:bg-[#5974ff]",crossOrigin:void 0,checked:x,onChange:function(){return E(!x)}})),c.createElement("input",{type:"submit",value:"".concat(m?"Updating ...":"Save"),className:"".concat(m?"bg-[#5e8b6d] cursor-wait":"bg-[#1e7039]"," rounded-[2rem] px-8 py-3 text-[1.2rem] font-medium cursor-pointer")})))):c.createElement("div",{className:"w-full h-full flex items-center justify-center "},c.createElement("button",{className:"flex items-center justify-center gap-4 p-3 rounded-[2rem] bg-[#2b2e3b]",onClick:function(){return a("/mybae/create")}},c.createElement(L,{stroke:"#5974ff"}),c.createElement("span",{className:"text-[#5974ff]"},"Create a BAE"))))},O=a(85200);function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},D.apply(this,arguments)}var B=function(e){return c.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#228a33","aria-hidden":"true"},e),I||(I=c.createElement("path",{d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25z"})))};function H(e){var t=(0,o.s0)();return c.createElement("div",{className:"w-full h-[64px] flex items-center gap-2 p-2 rounded-[1rem] cursor-pointer ".concat(e.isSelected?"bg-[#5974ff]":"bg-[#171717]"),onClick:function(){return a={id:e.id},void t({pathname:"/mybae",search:"?".concat((0,O.fW)(a))});var a}},c.createElement("div",{className:"relative"},c.createElement("img",{className:"w-[48px] h-[48px] rounded-full",src:e.character.avatar_img&&""!=e.character.avatar_img?e.character.avatar_img:g,alt:""}),"true"==e.character.isPublished&&c.createElement("div",{className:"absolute -right-2 -bottom-1"},c.createElement(B,{fill:"#f2ff36"}))),c.createElement("div",{className:"h-full flex flex-col justify-between"},c.createElement("span",{className:"text-[#fff] text-[1.2rem] text-left capitalize"},e.character.name),c.createElement("p",{className:"w-[200px] text-[#b8bccf] text-[13px] text-left capitalize bg-transparent whitespace-nowrap overflow-hidden text-ellipsis"},e.character.bio)))}var R=function(e){return c.createElement("div",{className:"h-full flex flex-col gap-4 overflow-y-auto thin-scroll"},c.createElement("div",{className:"flex flex-col gap-2 "},e.list.map((function(t,a){return c.createElement(H,{key:a,character:t,id:t._id,isSelected:null!=e.selected&&e.selected._id==t._id})}))),e.drafts.length>0&&c.createElement("div",{className:"h-[1px] bg-[#46484b]"}),e.drafts.length>0&&c.createElement("div",{className:"flex flex-col gap-[1rem]"},c.createElement("div",{className:"flex gap-1"},c.createElement("span",{className:"text-[#8C9196]"},"Drafts")),e.drafts.map((function(t,a){return c.createElement(H,{key:a,character:t,id:t._id,isSelected:null!=e.selected&&e.selected._id==t._id})}))),0==e.drafts.length&&0==e.list.length&&c.createElement("span",null,"No created bae"))},z=function(){var e=(0,o.TH)(),t=new URLSearchParams(e.search).get("id"),a=(0,c.useContext)(s.Z).auth,n=(0,c.useState)([]),l=n[0],r=n[1],i=(0,c.useState)(null),u=i[0],m=i[1];return(0,c.useEffect)((function(){if(a.state.isConnected){var e={address:a.state.address,chainId:a.state.chainId};(0,C.N2)(e).then((function(e){200==e.status&&r(e.data)})).catch((function(e){return console.log(e)}))}}),[]),(0,c.useEffect)((function(){if(a.state.isConnected){t||m(null);var e={address:a.state.address,chainId:a.state.chainId};(0,C.N2)(e).then((function(e){200==e.status&&(r(e.data),e.data.map((function(e){e._id==t&&m(e)})))})).catch((function(e){return console.log(e)}))}}),[t]),c.createElement("div",{className:"w-full h-full flex"},c.createElement("div",{className:"w-[320px] h-full hidden lg:flex flex-col gap-4 pl-4 pr-6 pt-8"},c.createElement("div",{className:"flex items-center justify-between"},c.createElement("span",{className:"text-[32px] font-semibold"},"My BAE")),c.createElement(R,{list:l,drafts:[],selected:u})),c.createElement("div",{className:"flex-grow h-full "},c.createElement(o.Z5,null,c.createElement(o.AW,{path:"/",element:c.createElement(_,{character:u})}),c.createElement(o.AW,{path:"/create",element:c.createElement(j,null)}))))}},41663:function(e,t,a){e.exports=a.p+"static/images/b8a91e9e6f0c4cec2e31.png"}}]);